nginx:
  image: nginx:1.9.7
  ports:
    - "80:80"
  volumes:
    - ./www:/usr/share/nginx/html

worker:
  build: worker
  links:
      - graphdb
      - redis
  volumes:
    - ./d1lod:/d1lod
    - ./glharvest:/glharvest
    - ./www:/www
  environment:
    - PYTHONPATH=$PYTHONPATH:/glharvest:/d1lod/:/usr/lib/python2.7/dist-packages

scheduler:
  build: scheduler
  links:
    - graphdb
    - redis
  volumes:
    - ./d1lod:/d1lod
    - ./glharvest:/glharvest
    - ./www:/www
  environment:
    - PYTHONPATH=$PYTHONPATH:/glharvest:/d1lod/:/usr/lib/python2.7/dist-packages

graphdb:
  image: tomcat:8.0-jre8
  ports:
    - "8080:8080"
  volumes:
    - ./webapps:/usr/local/tomcat/webapps/

redis:
  image: redis:3.0.5
